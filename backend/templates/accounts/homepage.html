{% extends "layout.html" %}

{% block title %}Medisense: Homepage{% endblock title %}

{% load static %}
{% block load_extra %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{% static 'js/analytics.js' %}"></script>
{% endblock load_extra %}

{% block content %}
        <div class="page-header">
          <div>
            <h1>Analytics</h1>
            <small>Key metrics monitoring. Check reporting and insights</small>
          </div>
          <div class="header-actions">
            <button class="btn" onclick="window.location.href='{% url 'export_analytics' %}'">
              <span class="las la-file-export"></span>
              Export
            </button>
            <button>
              <span class="las la-tools"> </span>
              Settings
            </button>
          </div>
        </div>

        {% comment %} Card 1: Patient Trends {% endcomment %}
        <div class="cards">
          <div class="card-single">
            <div class="card-flex">
              <div class="card-info">
                <div class="card-head">
                  <span>Patient Trends</span>
                  <small>Total patient visits this month</small>
                </div>
                <h2>1,200</h2>
                <small>33.3% less this month</small>
              </div>
              <div class="card-chart">
                <canvas id="patientChart" width="80" height="50"></canvas>
              </div>
            </div>
          </div>

          {% comment %} Card 2: Most Common Symptoms {% endcomment %}
          <div class="card-single">
            <div class="card-flex">
              <div class="card-info">
                <div class="card-head">
                  <span>Most Common Symptoms</span>
                  <small>Top 3 this month</small>
                </div>
                <h2>Fever, Cough, Headache</h2>
                <small>Based on patient logs</small>
              </div>
              <div class="card-chart">
                <canvas id="symptomsChart" width="80" height="50"></canvas>
              </div>
            </div>
          </div>

          {% comment %} Card 3: Inventory Status {% endcomment %}
          <div class="card-single">
            <div class="card-flex">
              <div class="card-info">
                <div class="card-head">
                  <span>Inventory Status</span>
                  <small>Low stock Items</small>
                </div>
                <h2>x and y medicine</h2>
                <small>Last updated 2 days ago</small>
              </div>
              <div class="card-chart">
                <canvas id="inventoryChart" width="80" height="50"></canvas>
              </div>
            </div>
          </div>
          {% comment %} Card 4: Forecast / Prediction {% endcomment %} 
            <div class="card-single">
              <div class="card-flex">
                <div class="card-info">
                  <div class="card-head">
                    <span>Forecast</span>
                    <small>Expected high-demand item</small>
                  </div>
                  <h2>x medicine</h2>
                  <small>Forecasted â†‘ 20% in August</small>
                </div>
                <div class="card-chart">
                  <canvas id="forecastChart" width="80" height="50"></canvas>
                </div>
              </div>
            </div>
          </div>
        </div>
{% endblock %}